<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="✉ Voyance par e-mail 24h/7j à partir de 6€. Des réponses claires et précises sur l'amour, le travail et la famille. Contactez Frederick pour une consultation fiable et rapide !">
    <meta name="keywords" content="Voyance par e-mail, Consultation voyance immédiate, Voyance fiable et rapide, Voyance retour affectif rapide, Consultation spirituelle par e-mail, Voyance travail et carrière, Voyance sérieuse et reconnue, Voyance à distance pas chère et rapide, Guide spirituel amour par e-mail, Voyance professionnelle avec médium reconnu">
    <meta name="author" content="Frederick - ClairvoyanceMedium.com">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#000">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src https:; script-src 'self' https://js.stripe.com; style-src 'self' https://fonts.googleapis.com; font-src https://fonts.gstatic.com;">

<!-- Polyfill pour fonctions modernes (Object.assign, Array.from, etc.) -->
<script src="https://cdn.polyfill.io/v3/polyfill.min.js?features=default" async></script>
    
    <!-- Meta pour les moteurs de recherche -->
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="bingbot" content="index, follow">
    <meta name="baidu-site-verification" content="votre_code_de_verification" />
    <meta name="yandex-verification" content="votre_code_de_verification" />

    <!-- SEO multilingue -->
    <link rel="alternate" hreflang="fr" href="https://clairvoyancemedium.github.io/VoyanceparEmail/fr/" /> <!-- Français -->
    <link rel="alternate" hreflang="en" href="https://clairvoyancemedium.github.io/VoyanceparEmail/en/" /> <!-- Anglais -->
    <link rel="alternate" hreflang="es" href="https://clairvoyancemedium.github.io/VoyanceparEmail/es/" /> <!-- Espagnol -->
    <link rel="alternate" hreflang="zh" href="https://clairvoyancemedium.github.io/VoyanceparEmail/zh/" /> <!-- Chinois (Mandarin) -->
    <link rel="alternate" hreflang="hi" href="https://clairvoyancemedium.github.io/VoyanceparEmail/hi/" /> <!-- Hindi -->
    <link rel="alternate" hreflang="ar" href="https://clairvoyancemedium.github.io/VoyanceparEmail/ar/" /> <!-- Arabe -->
    <link rel="alternate" hreflang="pt" href="https://clairvoyancemedium.github.io/VoyanceparEmail/pt/" /> <!-- Portugais -->
    <link rel="alternate" hreflang="ru" href="https://clairvoyancemedium.github.io/VoyanceparEmail/ru/" /> <!-- Russe -->
    <link rel="alternate" hreflang="ja" href="https://clairvoyancemedium.github.io/VoyanceparEmail/ja/" /> <!-- Japonais -->
    <link rel="alternate" hreflang="de" href="https://clairvoyancemedium.github.io/VoyanceparEmail/de/" /> <!-- Allemand -->
    <link rel="alternate" hreflang="it" href="https://clairvoyancemedium.github.io/VoyanceparEmail/it/" /> <!-- Italien -->
    <link rel="alternate" hreflang="ko" href="https://clairvoyancemedium.github.io/VoyanceparEmail/ko/" /> <!-- Coréen -->
    <link rel="alternate" hreflang="bn" href="https://clairvoyancemedium.github.io/VoyanceparEmail/bn/" /> <!-- Bengali -->
    <link rel="alternate" hreflang="x-default" href="https://clairvoyancemedium.github.io/VoyanceparEmail/" /> <!-- Page par défaut -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Roboto+Serif:wght@400;700&display=swap" as="style" onload="this.rel='stylesheet'">


    <!-- Meta pour les réseaux sociaux -->
<meta property="og:title" content="Voyance par E-mail avec Frederick - Consultations Fiables et Rapides">
<meta property="og:description" content="Consultez Frederick, guide spirituel expérimenté, pour des réponses claires et précises par e-mail. Voyance fiable et rapide, disponible 24h/7j.">
<meta property="og:url" content="https://clairvoyancemedium.github.io/VoyanceparEmail">
<meta property="og:type" content="website">
<meta property="og:locale" content="fr_FR">
<meta property="og:image" content="https://clairvoyancemedium.github.io/images/twitter-card.jpg">
<meta property="og:image:alt" content="Image représentant un guide spirituel offrant des consultations de voyance par e-mail, entouré d'une aura apaisante.">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Voyance par E-mail avec Frederick">
<meta name="twitter:description" content="Consultez Frederick pour une voyance fiable et précise par e-mail.">
<meta name="twitter:image" content="https://clairvoyancemedium.github.io/images/twitter-card.jpg">

    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="
default-src 'self'; 
script-src 'self'; 
style-src 'self' https://fonts.googleapis.com; 
font-src https://fonts.gstatic.com; 
img-src 'self' https: data:; 
connect-src 'self' https://ipapi.co https://api.exchangerate-api.com; 
frame-src 'self'; 
object-src 'none'; 
base-uri 'self'; 
form-action 'self'; 
block-all-mixed-content; 
upgrade-insecure-requests;">

    <link rel="canonical" href="https://clairvoyancemedium.github.io/VoyanceparEmail">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Roboto+Serif:wght@400&display=swap" rel="stylesheet">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="format-detection" content="email=no">
    <title>Voyance par E-mail - Consultations Fiables & Rapides - 24h/7j</title>
    <link rel="icon" href="favicon_voyancepartelephone.png" type="image/png">

    <!-- JSON-LD pour FAQ -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Quel est le tarif d'une consultation de voyance par e-mail ?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Frederick propose des consultations de voyance par e-mail à partir de 6 € pour une question. Les tarifs augmentent selon le nombre de questions."
          }
        },
        {
          "@type": "Question",
          "name": "Combien de temps faut-il pour recevoir une réponse par e-mail ?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Frederick répond généralement sous 24 heures après réception de votre demande de consultation par e-mail."
          }
        },
        {
          "@type": "Question",
          "name": "Est-ce que la voyance par e-mail est fiable ?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Oui, Frederick est un guide spirituel expérimenté avec plus de 25 années d'expertise et des centaines d'avis clients vérifiés."
          }
        }
      ]
    }
    </script>

    <!-- JSON-LD pour Person -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Frederick",
      "description": "Guide spirituel et voyant professionnel proposant des consultations fiables et rapides par e-mail.",
      "url": "https://clairvoyancemedium.github.io/VoyanceparEmail",
      "sameAs": [
        "https://facebook.com/clairvoyancemedium",
        "https://twitter.com/clairvoyancemedium",
        "https://linkedin.com/in/clairvoyancemedium"
      ],
      "worksFor": {
        "@type": "Organization",
        "name": "ClairvoyanceMedium.com",
        "url": "https://clairvoyancemedium.github.io"
      }
    }
    </script>
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Product",
    "name": "Consultation de Voyance par E-mail",
    "description": "Voyance par e-mail 24h/7j avec Frederick. Questions à partir de 6€.",
    "image": "https://clairvoyancemedium.github.io/images/voyance.jpg",
    "brand": {
        "@type": "Brand",
        "name": "ClairvoyanceMedium.com"
    },
    "offers": [
        {
            "@type": "Offer",
            "priceCurrency": "EUR",
            "price": "6",
            "availability": "https://schema.org/InStock",
            "url": "https://clairvoyancemedium.github.io"
        }
    ]
}
</script>

    <!-- Unique balise Speakable -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "speakable": {
    "@type": "SpeakableSpecification",
    "cssSelector": [
      "h1",
      "p.url-text",
      ".cta-button",
      ".tarifs ul",
      "blockquote",
      "p",
      "footer"
    ]
  },
  "inLanguage": [
    "fr-FR", "en-US", "es-ES", "pt-BR", "zh-CN", "hi-IN", 
    "ar-SA", "ru-RU", "de-DE", "it-IT", "ja-JP", "ko-KR",
    "bn-BD", "id-ID", "vi-VN", "tr-TR", "th-TH", "nl-NL", 
    "pl-PL", "ro-RO", "sv-SE", "no-NO", "da-DK", "fi-FI", 
    "el-GR", "hu-HU", "cs-CZ", "sk-SK", "bg-BG", "uk-UA", 
    "he-IL", "ms-MY", "ta-IN", "te-IN", "mr-IN", "kn-IN",
    "ur-PK", "fa-IR", "sw-KE", "yo-NG", "am-ET", "zu-ZA"
  ]
}
</script>

    <!-- Minified CSS -->
    <style>
        body { font-family: 'Roboto Serif', serif, Arial, sans-serif; margin: 0; padding: 0; background-color: #000; color: #fff; text-align: center; }
        header { color: #fff; padding: 20px 0; }
        header img { max-width: 100%; height: auto; object-fit: cover; border-radius: 10px; display: block; margin: 0 auto; loading: lazy; }
        .url-text { font-size: 1em; color: #87CEEB; font-family: 'Cinzel', serif; margin: 10px 0; }
        header h1 { margin: 20px 0 10px; font-size: 2.2em; color: #fff; font-weight: bold; font-family: 'Cinzel', serif; }
        .cta-button { display: inline-block; background: linear-gradient(145deg, #FFB6C1, #FF69B4); color: #fff; padding: 20px 30px; text-decoration: none; font-size: 1.6em; border-radius: 10px; margin-top: 20px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3); transition: transform 0.3s ease, opacity 0.3s ease; } 
        .cta-button:hover { transform: scale(1.02); opacity: 0.98; }
        .numero-direct { font-size: 1.5em; font-weight: bold; margin-top: 20px; font-family: 'Cinzel', serif; }
        .highlight-number { font-size: 1.8em; font-weight: bold; color: #87CEEB; display: block; font-family: Helvetica, Arial, sans-serif; }
        .tarifs h2 { font-family: 'Cinzel', serif; font-size: 1.8em; font-weight: bold; color: #fff; }
        .tarifs ul { font-family: 'Cinzel', serif; font-size: 1.2em; color: #fff; font-weight: normal; list-style: none; padding: 0; }
        #cookie-banner a{text-decoration:underline;color:#87CEEB;}#cookie-banner button:hover{opacity:0.9;}
        footer { margin-top: 30px; font-size: 0.9em; color: #aaa; }
        footer a { text-decoration: none; color: inherit; font-family: Helvetica, Arial, sans-serif; }
    </style>
</head>

<body>
    <header>
        <p>VOYANCE PAR E-MAIL FIABLE, DÉTAILLÉE ET RAPIDE</p>
        <p class="url-text">www.clairvoyancemedium.com</p>
        <br>
        <h1>Consultation de Voyance Privée par E-mail</h1>
    </header>

    <main>
        <section>
            <a href="javascript:void(0);" id="checkout-link-1" class="cta-button prix" aria-label="Voyance privée par email - 1 question">
    1 Question - 6 €
</a>
<br>
<a href="javascript:void(0);" id="checkout-link-2" class="cta-button prix" aria-label="Voyance privée par email - 3 questions">
    3 Questions - 15 €
</a>
<br>
<a href="javascript:void(0);" id="checkout-link-3" class="cta-button prix" aria-label="Voyance privée par email - 5 questions">
    5 Questions - 28 €
</a>


<div id="success-message" style="display: none; color: green; text-align: center;" aria-live="polite">
    Votre paiement a été validé avec succès ! Vous recevrez un e-mail récapitulatif sous peu.
</div>
<div id="loading-indicator" style="display: none; text-align: center;" aria-live="polite">
    <div class="spinner"></div>
    <p>Chargement en cours, veuillez patienter...</p>
</div>
<div id="fallback-message" style="display: none; color: red; text-align: center;" aria-live="polite">
    La conversion des devises est indisponible. Les prix sont affichés en euros.
</div>
<div id="error-message" style="display: none; color: red; text-align: center; margin: 10px 0;"></div>


<div id="cookie-banner" role="dialog" aria-live="polite" aria-labelledby="cookie-banner-title">
    <p id="cookie-banner-title">
        Nous utilisons des cookies pour améliorer votre expérience. Les cookies essentiels sont toujours activés. 
        Vous pouvez personnaliser les cookies analytiques et marketing.
    </p>
    <div>
        <button id="accept-cookies" style="background-color: #87CEEB; color: #fff; border: none; padding: 10px 15px; cursor: pointer; border-radius: 5px;">Accepter</button>
        <button id="customize-cookies" style="background-color: #555; color: #fff; border: none; padding: 10px 15px; cursor: pointer; border-radius: 5px;">Personnaliser</button>
        <button id="revoke-cookies" style="background-color: #f00; color: #fff; border: none; padding: 10px 15px; cursor: pointer; border-radius: 5px;">Réinitialiser les préférences</button>
    </div>
</div>


           // Lien ajouté vers le formulaire des questions
<a href="form.html">Accéder au formulaire pour poser vos questions</a>


    
           <article>
                <br>
                <br>
                <p>Profitez d'une <strong>consultation privée de voyance par e-mail</strong> avec Frederick, guide spirituel depuis plus de <strong>25 années</strong>. Des réponses claires et précises dans tous les domaines qui vous entourent : amour, travail, famille et plus encore.</p>
                <br>
                <p>Avis ⭐⭐⭐⭐⭐ (+ de 300 avis vérifiés)</p>
                <blockquote>
                    <p><em>"Frederick m'a envoyé un e-mail très détaillé qui a répondu à toutes mes questions en moins de 24h. Je recommande vivement !" — Chloé, 29 ans</em></p>
                    <p><em>"Une consultation très précise. Frederick a su répondre à mes attentes par e-mail. Merci pour vos conseils !" — David, 42 ans</em></p>
                </blockquote>
            </article>
        </section>

        <section class="tarifs">
            <br>
            <br>
            <h2>Tarifs du Cabinet : Voyance par E-mail - 24h/7j</h2>
            <ul>
                <li>1 question : 6 €</li>
                <li>3 questions : 15 €</li>
                <li>5 questions : 28 €</li>
            </ul>
        </section>
    </main>

    <footer>
    <a href="https://www.clairvoyancemedium.com/Conditions-Generales-des-Ventes-et-d-Utilisation-ccsaaaaaa.asp" 
       target="_blank" 
       rel="noopener noreferrer">
        &copy; 2025 ClairVoyanceMedium.com - Tous droits réservés
    </a>
    <a href="Protections et Politiques de Confidentialité.html" target="_blank" rel="noopener noreferrer">
        Politique de Confidentialité
    </a>
    <a href="#" id="revoke-cookies-link">Réinitialiser vos préférences</a>
</footer>

    <script>
    document.addEventListener("DOMContentLoaded", async () => {
    const prixEnEuros = [6, 15, 28]; // Liste des prix en euros
    const tauxExpiration = 24 * 60 * 60 * 1000; // Expiration du cache (24 heures)
    const elementsPrix = document.querySelectorAll(".prix");
    const messageFallback = "La conversion des devises est indisponible. Les prix sont affichés en euros.";

    // Taux de conversion par défaut (en cas d'échec des API)
    const tauxConversionParDefaut = {
        USD: 1.1,
        GBP: 0.85,
        EUR: 1,
    };

    if (!elementsPrix.length) {
        console.warn("Aucun élément .prix trouvé pour l'affichage des prix.");
        return;
    }

    // Affichage temporaire "chargement" pendant la conversion
    elementsPrix.forEach((element) => (element.textContent = "Chargement..."));

    let deviseLocale = localStorage.getItem("deviseLocale");
    let tauxConversion = JSON.parse(localStorage.getItem("tauxConversion"));

    try {
        // Récupérer devise locale si non présente
        if (!deviseLocale) {
            const geoResponse = await fetchWithTimeout("https://ipapi.co/json/", {}, 7000);
            const geoData = await geoResponse.json();
            deviseLocale = geoData.currency || "EUR";
            localStorage.setItem("deviseLocale", deviseLocale);
            console.log("Devise détectée et sauvegardée :", deviseLocale);
        } else {
            console.log("Devise déjà sauvegardée :", deviseLocale);
        }

        // Vérifiez si les taux de conversion sont déjà stockés et valides
        if (!tauxConversion || Date.now() - tauxConversion.timestamp > tauxExpiration) {
            console.log("Récupération des nouveaux taux...");
            const tauxResponse = await fetchWithTimeout("https://api.exchangerate-api.com/v4/latest/EUR", {}, 7000);
            const tauxData = await tauxResponse.json();

            tauxConversion = {
                rates: tauxData.rates,
                timestamp: Date.now(),
            };

            localStorage.setItem("tauxConversion", JSON.stringify(tauxConversion));
            console.log("Taux de conversion mis à jour et sauvegardés.");
        }

        // Utilisation des taux récupérés
        const taux = tauxConversion.rates[deviseLocale] || tauxConversionParDefaut[deviseLocale] || 1;
        elementsPrix.forEach((element, index) => {
            const prixConverti = (prixEnEuros[index] * taux).toFixed(2);
            element.textContent = `${prixConverti} ${getCurrencySymbol(deviseLocale, tauxConversion)}`;
        });
    } catch (error) {
        console.error("Erreur lors de la gestion des taux de conversion :", error);

        // Fallback : Utiliser les taux de conversion par défaut
        const taux = tauxConversionParDefaut[deviseLocale] || 1;
        elementsPrix.forEach((element, index) => {
            const prixConverti = (prixEnEuros[index] * taux).toFixed(2);
            element.textContent = `${prixConverti} ${getCurrencySymbol(deviseLocale, null)}`;
        });

        const fallbackContainer = document.getElementById("fallback-message");
        if (fallbackContainer) {
            fallbackContainer.style.display = "block"; // Afficher le message de fallback
        }
    }

    // Fonction pour obtenir le symbole de la devise
    function getCurrencySymbol(currencyCode, ratesData) {
        const defaultSymbols = { USD: "$", EUR: "€", GBP: "£", JPY: "¥", CNY: "¥", INR: "₹" };
        return defaultSymbols[currencyCode] || currencyCode;
    }

    // Fonction utilitaire pour fetch avec timeout
    async function fetchWithTimeout(resource, options = {}, timeout = 5000) {
        const controller = new AbortController();
        const signal = controller.signal;
        const timer = setTimeout(() => controller.abort(), timeout);

        try {
            const response = await fetch(resource, { ...options, signal });
            clearTimeout(timer);
            return response;
        } catch (error) {
            console.error("Fetch timeout ou erreur :", error);
            throw error;
        }
    }
});
</script>
    
<script>
    document.addEventListener("DOMContentLoaded", () => {
    const supportedLangs = ["fr", "en", "es", "zh", "hi", "ar", "pt", "ru", "ja", "de", "it", "ko", "bn"];
    const defaultLang = "fr"; // Langue par défaut
    const langCode = (navigator.language || navigator.userLanguage).split("-")[0]; // Langue du navigateur
    const currentPath = window.location.pathname; // Chemin actuel de la page
    const currentSearch = window.location.search; // Paramètres dans l'URL
    const currentHash = window.location.hash; // Ancre dans l'URL

    /**
     * Fonction pour vérifier si le chemin contient une langue supportée.
     * @param {string} path - Chemin de l'URL.
     * @returns {boolean}
     */
    function isSupportedLang(path) {
        return supportedLangs.some(lang => path.startsWith(`/${lang}/`));
    }

    /**
     * Fonction pour générer un chemin normalisé.
     * @param {string} path - Chemin à normaliser.
     * @returns {string}
     */
    function normalizePath(path) {
        return path.startsWith("/") ? path : `/${path}`;
    }

    /**
     * Redirection vers la langue cible si nécessaire.
     */
    if (!isSupportedLang(currentPath)) {
        const targetLang = supportedLangs.includes(langCode) ? langCode : defaultLang; // Langue cible
        const normalizedPath = normalizePath(currentPath);

        // Vérifie si la redirection est nécessaire (évite les boucles)
        if (!normalizedPath.startsWith(`/${targetLang}/`)) {
            const newPath = `/${targetLang}${normalizedPath}${currentSearch}${currentHash}`;
            console.log(`Redirection vers : ${newPath}`);
            window.location.href = newPath; // Redirection vers la langue cible
        } else {
            console.log("Aucune redirection nécessaire : Langue déjà correcte.");
        }
    } else {
        console.log("Aucune redirection nécessaire : Chemin contient une langue supportée.");
    }
});
</script>
    
    <script src="https://js.stripe.com/v3/" async></script>
<script>
    const stripe = Stripe('pk_live_Cmzt2YN9ITdo6hUpO1lSZblJ'); // Clé publique Stripe

    async function handleCheckout(nbQuestions) {
        try {
            // Afficher l'indicateur de chargement
            document.getElementById('loading-indicator').style.display = 'block';

            // Validation du nombre de questions
            if (typeof nbQuestions !== 'number' || nbQuestions <= 0) {
                alert("Le nombre de questions sélectionné est invalide. Veuillez réessayer.");
                return;
            }

            // Envoyer la requête au backend pour créer une session Stripe
            const response = await fetch('checkout.php', { // URL du backend
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ nbQuestions }) // Envoie le nombre de questions
            });

            if (!response.ok) {
                throw new Error(`Erreur lors de la création de la session : ${response.status}`);
            }

            // Récupérer la session Stripe et rediriger
            const session = await response.json();
            const { error } = await stripe.redirectToCheckout({ sessionId: session.id });

            if (error) {
                throw new Error(`Erreur lors de la redirection vers Stripe : ${error.message}`);
            }
        } catch (error) {
            // Gérer les erreurs
            console.error("Erreur lors du paiement :", error);

            if (error.message.includes("session")) {
                alert("Une erreur est survenue lors de la création de la session. Veuillez réessayer.");
            } else if (error.message.includes("redirection")) {
                alert("Redirection échouée. Essayez avec une autre méthode de paiement.");
            } else {
                alert("Une erreur inconnue est survenue. Veuillez réessayer plus tard.");
            }
        } finally {
            // Masquer l'indicateur de chargement
            document.getElementById('loading-indicator').style.display = 'none';
        }
    }
    // Associer chaque bouton à une session Stripe
    document.getElementById('checkout-link-1').addEventListener('click', () => handleCheckout(1)); // 1 question
    document.getElementById('checkout-link-2').addEventListener('click', () => handleCheckout(3)); // 3 questions
    document.getElementById('checkout-link-3').addEventListener('click', () => handleCheckout(5)); // 5 questions
</script>

    <!-- Script du gestionnaire de cookies -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
    const banner = document.getElementById('cookie-banner');
    const acceptBtn = document.getElementById('accept-cookies');
    const customizeBtn = document.getElementById('customize-cookies');
    const revokeBtn = document.getElementById('revoke-cookies');
    const revokeLink = document.getElementById('revoke-cookies-link'); // Lien dans le footer pour réinitialiser
    const consent = JSON.parse(localStorage.getItem('cookieConsent')) || null;

    // Initialiser les préférences des cookies
    if (consent) {
        applyCookiePreferences(consent);
        banner.style.display = 'none';
    } else {
        blockScripts(); // Bloquer les scripts non essentiels par défaut
    }

    // Gestion des clics sur le bouton "Accepter"
    acceptBtn.addEventListener('click', () => {
        const preferences = { essential: true, analytics: true, marketing: true };
        saveConsent(preferences, 'accepted');
        applyCookiePreferences(preferences);
        banner.style.display = 'none';
    });

    // Gestion des clics sur le bouton "Personnaliser"
    customizeBtn.addEventListener('click', () => {
        const preferences = {
            essential: true,
            analytics: confirm('Acceptez-vous les cookies analytiques ?'),
            marketing: confirm('Acceptez-vous les cookies marketing ?')
        };
        saveConsent(preferences, 'customized');
        applyCookiePreferences(preferences);
        banner.style.display = 'none';
    });

    // Gestion des clics sur le bouton "Réinitialiser"
    revokeBtn.addEventListener('click', () => resetConsent());
    
    // Gestion des clics sur le lien "Réinitialiser" dans le footer
    if (revokeLink) {
        revokeLink.addEventListener('click', (e) => {
            e.preventDefault();
            resetConsent();
        });
    }

    // Fonction pour réinitialiser les préférences
    function resetConsent() {
        localStorage.removeItem('cookieConsent');
        deleteAllCookies();
        banner.style.display = 'block';
        blockScripts(); // Bloquer tous les scripts non essentiels
        console.log("Consentement utilisateur réinitialisé.");
    }

    // Appliquer les préférences des cookies
    function applyCookiePreferences(preferences) {
        if (!preferences.analytics) {
            blockScripts();
            deleteCookies(['_ga', '_gid']); // Supprimer les cookies analytiques
        }
        if (!preferences.marketing) {
            blockScripts();
            deleteCookies(['_fbp']); // Supprimer les cookies marketing
        }
    }

    // Bloquer les scripts non essentiels (analytiques et marketing)
    function blockScripts() {
        document.querySelectorAll('script[data-cookie="analytics"], script[data-cookie="marketing"]').forEach((script) => {
            script.remove();
        });
    }

    // Supprimer les cookies spécifiés
    function deleteCookies(cookieNames) {
        cookieNames.forEach((cookie) => {
            document.cookie = `${cookie}=; Max-Age=0; path=/; domain=.clairvoyancemedium.github.io; Secure; SameSite=Strict`;
        });
    }

    // Supprimer tous les cookies
    function deleteAllCookies() {
        document.cookie.split(';').forEach((cookie) => {
            const eqPos = cookie.indexOf('=');
            const name = eqPos > -1 ? cookie.substring(0, eqPos) : cookie;
            document.cookie = `${name}=; Max-Age=0; path=/; domain=.clairvoyancemedium.github.io; Secure; SameSite=Strict`;
        });
    }

    // Sauvegarder les préférences des cookies dans le localStorage
    function saveConsent(preferences, action) {
        localStorage.setItem('cookieConsent', JSON.stringify(preferences));
        console.log(`Consentement utilisateur : ${action}`);
    }
});
    </script>

</body>
</html>
