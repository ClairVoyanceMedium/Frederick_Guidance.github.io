<!DOCTYPE html>
<html lang="fr" class="no-js">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Voyance par E-mail - Consultations Fiables & Rapides - 24h/7j</title>
    <meta name="description" content="✉ Voyance par e-mail 24h/7j à partir de 6€. Des réponses claires et précises sur l'amour, le travail, et la famille. Contactez Frederick pour une consultation fiable et rapide !">
    <meta name="keywords" content="voyance par e-mail,consultation voyance immédiate,voyance fiable et rapide,voyance retour affectif rapide,consultation spirituelle par e-mail,voyance travail et carrière,voyance sérieuse et reconnue,voyance à distance pas chère et rapide,guide spirituel amour par e-mail,voyance professionnelle avec médium reconnu">
    <meta name="author" content="Frederick - ClairvoyanceMedium.com">
    <link rel="canonical" href="https://clairvoyancemedium.github.io/VoyanceparEmail">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="icon" href="favicon_voyancepartelephone.png" type="image/png">
    <link rel="preload" href="https://github.com/ClairVoyanceMedium/Frederick_Guidance.github.io/raw/main/Images/1%20-%20logo%20officiel(grande%20taille).jpg" as="image">
    <style>
        :root{--bg:#000;--text:#fff;--accent:#87CEEB;--button-bg:linear-gradient(145deg,#FFB6C1,#FF69B4);--button-txt:#fff}
        body{font-family:'Roboto Serif',serif,Arial,sans-serif;margin:0;padding:0;background:var(--bg);color:var(--text);text-align:center}
        header{padding:2rem 0;background:#111}
        h1{font-size:2.2em;color:#fff;font-weight:700;font-family:'Cinzel',serif}
        .cta-button{display:inline-block;padding:1rem 1.5rem;font-size:1.4em;color:var(--button-txt);background:var(--button-bg);text-decoration:none;border-radius:5px;transition:all .3s ease}
        .cta-button:hover{transform:scale(1.02);opacity:.95}
        .tarifs h2{font-family:'Cinzel',serif;font-size:1.8em;font-weight:700;color:#fff}
        .tarifs ul{list-style:none;padding:0;font-family:'Cinzel',serif;font-size:1.2em}
        footer{margin-top:2rem;font-size:.9em;color:#aaa}
        footer a{color:inherit;text-decoration:none}
        main{display:grid;gap:1.5rem;grid-template-columns:1fr;align-items:center;justify-items:center;padding:1rem}
        @media(min-width:768px){main{grid-template-columns:repeat(2,1fr)}}
        p,blockquote{max-width:60ch;margin:0 auto}
        blockquote{font-style:italic}
        .avis{margin:1rem 0}
        .logo{max-width:100%;height:auto;opacity:0;transition:opacity 0.5s}
        .logo.loaded{opacity:1}
        .cta-button:focus{outline:none;box-shadow:0 0 0 3px rgba(255,255,255,0.5)}
        .spinner {width: 40px;height: 40px;border: 4px solid #f3f3f3;border-top: 4px solid #3498db;border-radius: 50%;animation: spin 1s linear infinite;margin: 20px auto;display:none;}
        .message{opacity:0;transition:opacity 0.5s;}
        .message.show{opacity:1;}
        @keyframes spin {0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); }}
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Roboto+Serif:wght@400;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <meta name="theme-color" content="#000">
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1">
    <meta name="bingbot" content="index,follow">
    <meta name="baidu-site-verification" content="votre_code_de_verification">
    <meta name="yandex-verification" content="votre_code_de_verification">
    <link rel="alternate" hreflang="x-default" href="https://clairvoyancemedium.github.io/VoyanceparEmail/" />
    <!-- Ajoutez les hreflang pour les 42 langues les plus parlées -->
    <!-- Pour simplifier, voici quelques exemples; ajouter les autres en conséquence -->
    <link rel="alternate" hreflang="ar" href="https://clairvoyancemedium.github.io/VoyanceparEmail/ar/" />
    <link rel="alternate" hreflang="bn" href="https://clairvoyancemedium.github.io/VoyanceparEmail/bn/" />
    <link rel="alternate" hreflang="de" href="https://clairvoyancemedium.github.io/VoyanceparEmail/de/" />
    <!-- ... -->
    <link rel="alternate" hreflang="zh" href="https://clairvoyancemedium.github.io/VoyanceparEmail/zh/" />
    <!-- JSON-LD pour SEO -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://clairvoyancemedium.github.io/VoyanceparEmail/",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://clairvoyancemedium.github.io/VoyanceparEmail/?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
    </script>
    <meta property="og:title" content="Voyance par E-mail avec Frederick - Consultations Fiables et Rapides">
    <meta property="og:description" content="Consultez Frederick, guide spirituel expérimenté, pour des réponses claires et précises par e-mail. Voyance fiable et rapide, disponible 24h/7j.">
    <meta property="og:url" content="https://clairvoyancemedium.github.io/VoyanceparEmail">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="fr_FR">
    <meta property="og:image" content="https://github.com/ClairVoyanceMedium/Frederick_Guidance.github.io/raw/main/Images/1%20-%20logo%20officiel(grande%20taille).jpg">
    <meta property="og:image:alt" content="Logo de ClairVoyanceMedium, représentant l'élégance et la sagesse de la voyance moderne.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Voyance par E-mail avec Frederick">
    <meta name="twitter:description" content="Consultez Frederick pour une voyance fiable et précise par e-mail.">
    <meta name="twitter:image" content="https://github.com/ClairVoyanceMedium/Frederick_Guidance.github.io/raw/main/Images/1%20-%20logo%20officiel(grande%20taille).jpg">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'nonce-{{nonce}}' https://js.stripe.com https://ipapi.co; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; img-src 'self' data: https://*.github.com; connect-src 'self' https://api.stripe.com https://ipapi.co; frame-src https://js.stripe.com; object-src 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests;">
</head>

<body>
    <header>
        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" 
             data-src="https://github.com/ClairVoyanceMedium/Frederick_Guidance.github.io/raw/main/Images/1%20-%20logo%20officiel(grande%20taille).jpg" 
             alt="Logo de ClairVoyanceMedium" class="logo lazy" loading="lazy">
        <h1>Consultation de Voyance Privée par E-mail</h1>
        <p class="url-text">www.clairvoyancemedium.com</p>
    </header>

    <main>
        <section id="pricing" aria-label="Options de tarification">
            <a href="javascript:void(0);" id="checkout-link-1" class="cta-button prix" aria-label="Voyance privée par email - 1 question">1 Question - <span class="price">6 €</span></a>
            <a href="javascript:void(0);" id="checkout-link-2" class="cta-button prix" aria-label="Voyance privée par email - 3 questions">3 Questions - <span class="price">15 €</span></a>
            <a href="javascript:void(0);" id="checkout-link-3" class="cta-button prix" aria-label="Voyance privée par email - 5 questions">5 Questions - <span class="price">28 €</span></a>
        </section>

        <section class="avis" aria-label="Avis et Témoignages">
            <!-- ... -->
        </section>

        <section class="tarifs" aria-label="Tarifs des consultations">
            <!-- ... -->
        </section>
    </main>

    <div id="loading-indicator" class="spinner"></div>
    <div id="success-message" class="message" aria-live="polite" style="display:none;">Votre paiement a été validé avec succès ! Vous recevrez un e-mail récapitulatif sous peu.</div>

    <footer>
        <!-- ... -->
    </footer>

    <!-- Polyfill pour fonctions modernes -->
    <script src="https://cdn.polyfill.io/v3/polyfill.min.js?features=default" async></script>
    <script src="https://js.stripe.com/v3/" async></script>
    <script>
        (function() {
            const stripe = Stripe('pk_live_Cmzt2YN9ITdo6hUpO1lSZblJ');
            const basePrices = [6, 15, 28]; // Prix en EUR
            const defaultCurrency = 'EUR';
            const loadingIndicator = document.getElementById('loading-indicator');
            const successMessage = document.getElementById('success-message');
            
        function getCurrencySymbol(currency) {
            return {
                'EUR': '€', 'USD': '$', 'GBP': '£', 'JPY': '¥', 'CNY': '¥', 'INR': '₹'
            }[currency] || currency;
        }

        async function convertPrices() {
            loadingIndicator.style.display = 'block'; // Affiche l'indicateur de chargement
            try {
                const geoResponse = await fetch('https://ipapi.co/json/');
                const geoData = await geoResponse.json();
                const userCurrency = geoData.currency || defaultCurrency;

                if (userCurrency !== defaultCurrency) {
                    const rateResponse = await fetch(`https://api.exchangerate-api.com/v4/latest/${defaultCurrency}`);
                    const rateData = await rateResponse.json();
                    const conversionRate = rateData.rates[userCurrency] || 1;

                    document.querySelectorAll('.price').forEach((priceElement, index) => {
                        const convertedPrice = (basePrices[index] * conversionRate).toFixed(2);
                        priceElement.textContent = `${convertedPrice} ${getCurrencySymbol(userCurrency)}`;
                    });
                }
            } catch (error) {
                console.error('Erreur lors de la conversion des prix:', error);
                document.querySelectorAll('.price').forEach(priceElement => {
                    priceElement.textContent += ' (Conversion échouée)';
                });
            } finally {
                loadingIndicator.style.display = 'none'; // Cache l'indicateur de chargement
            }
        }

        convertPrices();

        async function handleCheckout(nbQuestions) {
            loadingIndicator.style.display = 'block'; // Affiche l'indicateur de chargement pendant l'interaction avec Stripe
            try {
                const response = await fetch('checkout.php', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ nbQuestions })
                });

                if (!response.ok) {
                    throw new Error(`Erreur lors de la création de la session : ${response.status}`);
                }

                const session = await response.json();
                await stripe.redirectToCheckout({ sessionId: session.id });
            } catch (error) {
                console.error("Erreur lors du paiement :", error);
                alert("Une erreur est survenue lors du paiement. Veuillez réessayer.");
            } finally {
                loadingIndicator.style.display = 'none'; // Cache l'indicateur de chargement
            }
        }

        document.getElementById('checkout-link-1').addEventListener('click', () => {
            handleCheckout(1).then(() => {
                successMessage.textContent = "Votre paiement pour 1 question a été validé avec succès !";
                successMessage.classList.add('show');
                setTimeout(() => {
                    successMessage.classList.remove('show');
                }, 5000); // Message disparaît après 5 secondes
            });
        });
        document.getElementById('checkout-link-2').addEventListener('click', () => {
            handleCheckout(3).then(() => {
                successMessage.textContent = "Votre paiement pour 3 questions a été validé avec succès !";
                successMessage.classList.add('show');
                setTimeout(() => {
                    successMessage.classList.remove('show');
                }, 5000);
            });
        });
        document.getElementById('checkout-link-3').addEventListener('click', () => {
            handleCheckout(5).then(() => {
                successMessage.textContent = "Votre paiement pour 5 questions a été validé avec succès !";
                successMessage.classList.add('show');
                setTimeout(() => {
                    successMessage.classList.remove('show');
                }, 5000);
            });
        });

        const supportedLangs = ["fr", "en", "es", "zh", "hi", "ar", "bn", "de", /* ... ajoutez les autres langues ... */];
        const userLang = navigator.language.split('-')[0] || 'fr';
        if (supportedLangs.includes(userLang)) {
            const hrefLang = document.querySelector(`link[hreflang="${userLang}"]`);
            if (hrefLang && window.location.pathname !== hrefLang.href) {
                window.location.href = hrefLang.href;
            }
        }

        // Ajout de focus styles pour l'accessibilité
        document.querySelectorAll('.cta-button').forEach(button => {
            button.addEventListener('focus', () => {
                button.style.outline = 'none';
                button.style.boxShadow = '0 0 0 3px rgba(255,255,255,0.5)';
            });
            button.addEventListener('blur', () => {
                button.style.boxShadow = 'none';
            });
        });

        // Gestion du nonce pour la sécurité
        const nonce = '{{nonce}}'; // Vous devez générer ce nonce côté serveur
        document.querySelectorAll('script').forEach(script => {
            if (script.getAttribute('nonce') !== nonce) {
                script.setAttribute('nonce', nonce);
            }
        });

        // Lazy Loading pour les images
        document.addEventListener("DOMContentLoaded", function() {
            const lazyImages = [].slice.call(document.querySelectorAll("img.lazy"));

            if ("IntersectionObserver" in window) {
                let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
                    entries.forEach(function(entry) {
                        if (entry.isIntersecting) {
                            let lazyImage = entry.target;
                            lazyImage.src = lazyImage.dataset.src;
                            lazyImage.classList.remove("lazy");
                            lazyImage.classList.add("loaded");
                            lazyImageObserver.unobserve(lazyImage);
                        }
                    });
                });

                lazyImages.forEach(function(lazyImage) {
                    lazyImageObserver.observe(lazyImage);
                });
            } else {
                // Fallback pour navigateurs sans IntersectionObserver
                lazyImages.forEach(function(lazyImage) {
                    lazyImage.src = lazyImage.dataset.src;
                    lazyImage.classList.remove("lazy");
                    lazyImage.classList.add("loaded");
                });
            }
        });
    })();
</script>

    </body>
</html>
